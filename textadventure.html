<!DOCTYPE html>
<html>
    <head>

        <title>Text Adventure</title>

        <style>
            #container{
                position: absolute;
                top: 83px;
                bottom: 8px;
                left: 8px;
                right: 8px;
                background-color: green;
            }

            #left-pane{
                width: 56%;
                height: 100%;
                float: left;
                display: flex;
                align-items: center;
                justify-content: center;
                background-color: white;
            }

            #right-pane{
                width: 44%;
                height: 100%;
                float: left;
                background-color: blue;
            }

            #storytext{
                position: absolute;
                bottom: 50px;
                top: 0px;
                left: 56%;
                right: 0px;
                justify-content: center;
                background-color: lightgray;
                padding: 8px;
            }

            #choices{
                position: absolute;
                bottom: 0px;
                height: 50px;
                left: 56%;
                right: 0px;
                display: flex;
                align-items: center;
                justify-content: center;
                background-color: white;
            }

            #b1, #b2, #b3, #b4{
                display: inline-block;
                background-color: orange;
                color: white;
                size: 10px;
                padding: 3px;
                border-radius: 8px;
                text-decoration: none;
                margin: 10px;
            }

            #storyimg{
                max-width: 100%;
                max-height: 100%
                
            }

        </style>



        <link rel="stylesheet" type="text/css" href="style.css">

    </head>

    <body>

      <ul class="navbar">
        <li><a href="index.html">Home</a></li>
        <li><a href="resume.html">Resume</a></li>
        <li><a href="aboutme.html">About Me</a></li>
        <li><a href="contactme.html">Contact Me</a></li>
        <li class="dropdown">
          <div>Projects</div>
          <ul class="dropdown-content">
            <li class="active"><a href="textadventure.html">Text Adventure</a></li>
            <li><a href="project2.html">Project 2</a></li>
            <li><a href="project3.html">Project 3</a></li>

          </ul>

        </li>

      </ul>

       <div id="container">
            <div id="left-pane">
            <img id='storyimg' src="images/fastfoodworker.jpg">
            </div>
            <div id="right-pane">
                <div id="storytext">
                    <p id="p-text1"> </p>
                    <p id="p-text2"> </p>
                    <p id="p-text3"> </p>
                    <p id="p-text4"> </p>
                </div>
                <div id="choices">
                    <a id="b1" onclick = "bclick(1)" href="#"> 1 </a>
                    <a id="b2" onclick = "bclick(2)" href="#"> 2 </a>
                    <a id="b3" onclick = "bclick(3)" href="#"> 3 </a>
                    <a id="b4" onclick = "bclick(4)" href="#"> 4 </a>   
                </div>

            </div>
        </div>

        <script>
            var pic = document.getElementById('storyimg');
            var ptext1 = document.getElementById('p-text1');
            var ptext2 = document.getElementById('p-text2');
            var ptext3 = document.getElementById('p-text3');
            var ptext4 = document.getElementById('p-text4');
            var b1 = document.getElementById('b1');
            var b2 = document.getElementById('b2');
            var b3 = document.getElementById('b3');
            var b4 = document.getElementById('b4');
            var state = "intro";

            intro();

    function intro(){
        pic.src = "images/burgerplace.png";
        ptext1.innerHTML = "This is the intro to my story";
        ptext2.innerHTML = "";
        ptext3.innerHTML = "";
        ptext4.innerHTML = "";
        b1.innerHTML = "Continue";
        b2.innerHTML = "No";
        b1.style.display = "block";
        b2.style.display = "none";
        b3.style.display = "none";
        b4.style.display = "none";
        
    }

    function spillDrink(){
        pic.src = "images/a-woman-spilling-her-drink-as-she-sneezes.jpg";
        ptext1.innerHTML = "On the first day of work, a customer named Karen spills an XXL soda all over the cashier countertop. She blames you for spilling the drink and demands a refund on her soda. All this noise and ruckus is bound to make the manager come out soon. Time is ticking, what do you do?";
        ptext2.innerHTML = "";
        ptext3.innerHTML = "";
        ptext4.innerHTML = "";
        b1.innerHTML = "Clean";
        b2.innerHTML = "Ignore";
        b3.innerHTML = "Tell someone else to do it";
        b4.innerHTML = "Ask for help";
        b1.style.display = "block";
        b2.style.display = "block";
        b3.style.display = "block";
        b4.style.display = "block";
  
    }
    function soloCleanDrink(){
        pic.src = "images/fastfoodrestaurant.jpg";
        ptext1.innerHTML = "You decide to clean the mess yourself. The manager notices your amazing work and praises you.";
        ptext2.innerHTML = "The manager then asks you if you can help with any other work.";
        ptext3.innerHTML = "What do you say?";
        ptext4.innerHTML = "";
        b1.innerHTML = "Yes (Agree to help)";
        b2.innerHTML = "No. I'm going to take a break.";
        b3.innerHTML = "";
        b1.style.display = "block";
        b2.style.display = "block";
        b3.style.display = "none";
        b4.style.display = "none";
    }
    function ignoreSpill(){
        pic.src = "";
        ptext1.innerHTML = "You decide to ignore the spill. Maybe the manager won't notice it, right?";
        ptext2.innerHTML = "Well, your luck came in as the manager didn't notice the spill. Unfortunately, he also slipped on the spill, which caused him to severely injure his left ankle. He is in need of immediate help, this is your chance to do something life changing!";
        ptext3.innerHTML = "What do you do?";
        ptext4.innerHTML = "";
        b1.innerHTML = "Give him medicine to help with the pain and call the E.R.";
        b2.innerHTML = "Give him rat poison disguised as the new promotional dipping sauce";
        b3.innerHTML = "";
        b1.style.display = "block";
        b2.style.display = "block";
        b3.style.display = "none";
        b4.style.display = "none";
    }
    function agreeHelpDrink(){
        pic.src = "";
        ptext1.innerHTML = "The manager makes you restock shelves in the back for the next 6 hours.";
        ptext2.innerHTML = "You wonder if you will get promoted.";
        ptext3.innerHTML = "";
        ptext4.innerHTML = "";
        b1.innerHTML = "Continue";
        b2.innerHTML = "";
        b3.innerHTML = "";
        b1.style.display = "block";
        b2.style.display = "none";
        b3.style.display = "none";
        b4.style.display = "none";
    }
    function declineHelpDrink(){
        pic.src = "";
        ptext1.innerHTML = "You enjoy your break and your manager is happy you did your job. He seems to be in a good mood.";
        ptext2.innerHTML = "You wonder if you will get promoted.";
        ptext3.innerHTML = "";
        ptext4.innerHTML = "";
        b1.innerHTML = "Continue";
        b2.innerHTML = "";
        b3.innerHTML = "";
        b1.style.display = "block";
        b2.style.display = "none";
        b3.style.display = "none";
        b4.style.display = "none";
    }


    //state machine
    function bclick(button){
        if(state == "intro"){
            if (button == 1){
                spillDrink();
                state = "spillDrink";
            }
        }    
        else if(state == "spillDrink"){
             if (button == 1){
                soloCleanDrink();
                state = "soloCleanDrink";
            }
            else if(button == 2){
                ignoreSpill();
                state = "ignoreSpill";
            }
            else if(button == 3){
                askHelpDrink();
                state = "askHelpDrink";
            }
            else if(button == 4){
                
            }     
        }
        else if(state == "soloCleanDrink"){
            if (button == 1){
                agreeHelpDrink();
                state = "agreeHelpDrink";
            }
            else if(button == 2){
                declineHelpDrink();
                state = "declineHelpDrink";
            }
    }


    
        return false;
    }
        </script>
    </body>
</html>